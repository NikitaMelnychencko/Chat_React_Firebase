(this.webpackJsonpchat_react_firebase=this.webpackJsonpchat_react_firebase||[]).push([[0],{20:function(e,t,n){e.exports={overlay:"Modal_overlay__2Lk91",modal:"Modal_modal__-b5Ee",button:"Modal_button__1dM4W",closebtn:"Modal_closebtn__37TpJ Modal_button__1dM4W",switchbtn:"Modal_switchbtn__3HtuF Modal_button__1dM4W"}},24:function(e,t,n){e.exports={MassageList:"Massage_MassageList__1Mvgr",Item:"Massage_Item__2C3j3",UserName:"Massage_UserName__1uEPO",UserMassage:"Massage_UserMassage__1I3bp"}},25:function(e,t,n){e.exports={container:"Header_container__JsXgo",header:"Header_header__3olLd",icon:"Header_icon__3cK2I",online:"Header_online__oJ0uK Header_icon__3cK2I",offline:"Header_offline__1Ghwo Header_icon__3cK2I",button:"Header_button__14upi"}},28:function(e,t,n){e.exports={Form:"SendBox_Form__39Nia",Input:"SendBox_Input__1DMAe",Button:"SendBox_Button__3ru7A"}},31:function(e,t,n){e.exports={Section:"Main_Section__2y6yl",Container:"Main_Container__bHwsu"}},32:function(e,t,n){e.exports={Section:"Footer_Section__1NFnQ",Container:"Footer_Container__1V4RF"}},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(7),s=n.n(a),r=n(21),c=n.n(r),o=n(3),i=n(5),l=n(8),u=n(9),d=n(31),h=n.n(d),b=n(6),m=function(e){var t=e.children;return Object(b.jsx)("main",{children:Object(b.jsx)("section",{className:h.a.Section,children:Object(b.jsx)("div",{className:h.a.Container,children:t})})})},j=n(25),p=n.n(j),g=n(19),O=n(34),f=n(14),_=(Object(O.a)({apiKey:"AIzaSyB2GhFkUipTzzgiF4QxbwvvRTipNdBzZQk",authDomain:"chat-react-firebase-nande.firebaseapp.com",databaseURL:"https://chat-react-firebase-nande-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chat-react-firebase-nande",storageBucket:"chat-react-firebase-nande.appspot.com",messagingSenderId:"733483402422",appId:"1:733483402422:web:b46958be6ebde37b181217"}),Object(f.a)()),v=(Object(f.d)(Object(f.a)()),Object(g.b)()),x=(v.currentUser,sessionStorage.getItem("userId"),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).LogOut=function(){return Object(g.e)(v).then((function(){sessionStorage.removeItem("userId"),e.props.onlineCheck()}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.online?"online":"offline";return Object(b.jsx)("header",{className:p.a.header,children:Object(b.jsxs)("div",{className:p.a.container,children:[Object(b.jsx)("div",{className:p.a[e]}),Object(b.jsx)("div",{children:this.props.online?Object(b.jsx)("button",{type:"s.button",className:p.a.button,onClick:this.LogOut,children:Object(b.jsx)("p",{children:"LogOut"})}):Object(b.jsx)("button",{type:"s.button",className:p.a.button,onClick:this.props.onClick,children:Object(b.jsx)("p",{children:"LogIn"})})})]})})}}]),n}(a.PureComponent)),y=x,N=n(32),C=n.n(N),S=function(e){var t=e.children;return Object(b.jsx)("footer",{children:Object(b.jsx)("section",{className:C.a.Section,children:Object(b.jsx)("div",{className:C.a.Container,children:t})})})},k=n(20),I=n.n(k),w=document.querySelector("#modal-root"),M=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(r.createPortal)(Object(b.jsx)("div",{className:I.a.overlay,onClick:this.handleBackdropClick,children:Object(b.jsxs)("div",{className:I.a.modal,children:[Object(b.jsx)(b.Fragment,{children:this.props.children}),Object(b.jsx)("button",{type:"button",className:I.a.closebtn,onClick:this.props.onClose})]})}),w)}}]),n}(a.PureComponent),U=M,F=n(30),L=n(0),B=n.n(L),D=n(4);function H(e,t){return P.apply(this,arguments)}function P(){return(P=Object(D.a)(B.a.mark((function e(t,n){var a,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return");case 2:return a=Object(f.d)(_,"message"),s=Object(f.c)(a),e.next=6,Object(f.f)(s,{message:n});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=n(28),E=n.n(A),K=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={message:""},e.handleNameChange=function(t){e.setState({message:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){if(t.preventDefault(),""!==e.state.message.trim()){var n={text:e.state.message,userId:sessionStorage.getItem("userId"),userName:sessionStorage.getItem("userName"),time:Object(f.e)()};H(sessionStorage.getItem("userId"),n),e.setState({message:""})}else F.a.warn("Input message!")},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("form",{className:E.a.Form,onSubmit:this.handleSubmit,children:[Object(b.jsx)("textarea",{type:"text",autoComplete:"off",autoFocus:!0,className:E.a.Input,value:this.state.message,onChange:this.handleNameChange}),Object(b.jsxs)("button",{type:"submit",className:E.a.Button,children:[" ","Send"]})]})}}]),n}(a.PureComponent),T=K,q=n(2),J=function(e){var t=e.email,n=e.pass,a=e.onChange;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("label",{className:"",children:[Object(b.jsx)("span",{className:"",children:"Email"}),Object(b.jsx)("input",{type:"email",name:"email",className:"",title:"***@mail.com",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",required:!0,value:t,onChange:a})]}),Object(b.jsxs)("label",{className:"",children:[Object(b.jsx)("span",{className:"",children:"Password"}),Object(b.jsx)("input",{type:"password",name:"pass",className:"",required:!0,minLength:"5",value:n,onChange:a})]})]})},z=function(e){var t=e.name,n=e.email,a=e.pass,s=e.onChange;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("label",{className:"",children:[Object(b.jsx)("span",{className:"",children:"Name"}),Object(b.jsx)("input",{type:"text",name:"name",id:"singup-name",required:!0,className:"",value:t,onChange:s})]}),Object(b.jsxs)("label",{className:"",children:[Object(b.jsx)("span",{className:"",children:"Email"}),Object(b.jsx)("input",{type:"email",name:"email",className:"",title:"***@mail.com",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",required:!0,value:n,onChange:s})]}),Object(b.jsxs)("label",{className:"",children:[Object(b.jsx)("span",{className:"",children:"Password"}),Object(b.jsx)("input",{type:"password",name:"pass",className:"",required:!0,minLength:"5",value:a,onChange:s})]})]})},W=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={name:"",email:"",pass:"",sigin:!0},e.changeModal=function(){e.setState((function(e){return{sigin:!e.sigin}}))},e.handleChange=function(t){var n=t.currentTarget,a=n.name,s=n.value;e.setState(Object(q.a)({},a,s))},e.handleSubmit=function(t){t.preventDefault();var n=e.state.email,a=e.state.pass;e.props.onClose(),e.state.sigin?e.signInUser(n,a):e.regUser(n,a)},e}return Object(i.a)(n,[{key:"regUser",value:function(e,t){var n=this;return Object(g.a)(v,e,t).then((function(e){return n.props.onlineCheck(),n.updateInUser(n.state.name),e.user.uid})).catch((function(e){e.message}))}},{key:"signInUser",value:function(e,t){var n=this;return console.log(e),Object(g.d)(v,e,t).then((function(e){return n.props.onlineCheck(),e.user})).catch((function(e){e.message}))}},{key:"updateInUser",value:function(e){return Object(g.f)(v.currentUser,{displayName:"".concat(e)})}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{className:I.a.content,action:"registration",onSubmit:this.handleSubmit,children:[Object(b.jsx)("div",{children:this.state.sigin?Object(b.jsx)(J,{email:this.state.email,pass:this.state.pass,onChange:this.handleChange}):Object(b.jsx)(z,{name:this.state.name,email:this.state.email,pass:this.state.pass,onChange:this.handleChange})}),Object(b.jsx)("button",{type:"submit",className:"","aria-label":"submit-form",children:this.state.sigin?"Sign In":"Sign Up"})]}),Object(b.jsx)("button",{type:"button",className:I.a.switchbtn,onClick:this.changeModal,children:this.state.sigin?"Sign Up":"Sign In"})]})}}]),n}(a.PureComponent),Q=W,R=n(24),G=n.n(R),V=function(e){var t=e.message,n=new Date(t.time),a=null,s="red";return sessionStorage.getItem("userName")===t.userName&&(a="auto",s="blue"),Object(b.jsxs)("li",{className:G.a.Item,style:{marginLeft:a},children:[Object(b.jsx)("h3",{className:G.a.UserName,style:{background:s},children:t.userName}),Object(b.jsx)("p",{className:G.a.UserMassage,children:t.text}),Object(b.jsxs)("p",{children:[n.toLocaleDateString()," ",n.toLocaleTimeString()]})]})},X=n(36),Z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={message:[]},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=Object(f.d)(_,"message");Object(f.b)(t,(function(t){var n=t.val();console.log(n);var a=[];for(var s in n)a.push(n[s].message);e.setState({message:a})}))}},{key:"render",value:function(){var e=this.state.message;return Object(b.jsx)("ul",{className:G.a.MassageList,children:e.map((function(e){return Object(b.jsx)(V,{message:e},Object(X.a)())}))})}}]),n}(a.PureComponent),Y=Z,$=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={showModal:!1,message:null,online:null!==sessionStorage.getItem("userId")},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.handleFormSubmit=function(t){e.setState({message:t})},e.onlineCheck=function(){e.setState((function(e){e.online;return{online:null!==sessionStorage.getItem("userId")}}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){return Object(g.c)(v,(function(e){if(e){var t=e.uid;return sessionStorage.setItem("userName","".concat(e.displayName)),sessionStorage.setItem("userId","".concat(t))}}))}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{onClick:this.toggleModal,online:this.state.online,onlineCheck:this.onlineCheck}),Object(b.jsx)(m,{children:this.state.online&&Object(b.jsx)(Y,{})}),Object(b.jsx)(S,{children:Object(b.jsx)(T,{onSubmit:this.handleFormSubmit})}),this.state.showModal&&Object(b.jsx)(U,{onClose:this.toggleModal,children:Object(b.jsx)(Q,{onClose:this.toggleModal,onlineCheck:this.onlineCheck})})]})}}]),n}(a.PureComponent),ee=$;n(45);c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(ee,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.534df312.chunk.js.map